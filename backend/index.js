const Canvas = require('canvas');
const fs = require('fs');
const Image = Canvas.Image;
const canvas = new Canvas(200, 200);
const ctx = canvas.getContext('2d');
var svg2img = require('svg2img');
var dataUrl_svgImg = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiIHZlcnNpb249IjEuMSIgei1pbmRleD0iMCI+PHN0eWxlIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiB0eXBlPSJ0ZXh0L2NzcyI+c3ZnIHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MH0uY2hhcnQtY29udGFpbmVyIC5ub2RlIGltYWdle2N1cnNvcjpwb2ludGVyfS5jaGFydC1jb250YWluZXIgLm5vZGUgLmNpcmNsZXtmaWxsOiNmZmY7c3Ryb2tlOiNkNGRhZGY7c3Ryb2tlLXdpZHRoOjJweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmJsdXItbm9kZSAuY2lyY2xle2ZpbGw6I2ZiZmJmYn0uY2hhcnQtY29udGFpbmVyIC5ub2RlLnN0YXJ0LW5vZGUgLmNpcmNsZXtmaWxsOmxpbWU7c3Ryb2tlLXdpZHRoOjBweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmVuZC1ub2RlIC5jaXJjbGV7ZmlsbDpyZWQ7c3Ryb2tlLXdpZHRoOjBweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmN1cnJlbnQtbm9kZSAuY2lyY2xlLC5jaGFydC1jb250YWluZXIgLm5vZGUuY3VycmVudC1ub2RlW25vZGUtdHlwZT1QZXJzb25dIC5jaXJjbGV7ZmlsbDojZjE4NDI0O3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5jdXJyZW50LW5vZGVbbm9kZS10eXBlPUNvbXBhbnldIC5jaXJjbGV7ZmlsbDojMDA4Y2ZmO3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5jdXJyZW50LW5vZGVbbm9kZS10eXBlPUJpZF9kZXRhaWxdIC5jaXJjbGV7ZmlsbDojOGI3MmU1O3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5jdXJyZW50LW5vZGVbbm9kZS10eXBlPUNvdXJ0X2J1bGxldGluX2RvY10gLmNpcmNsZXtmaWxsOiM3NTdmODk7c3Ryb2tlLXdpZHRoOjBweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmN1cnJlbnQtbm9kZVtub2RlLXR5cGU9SnVkZ2VfcHJvY2Vzc10gLmNpcmNsZXtmaWxsOiNiOTk0NjU7c3Ryb2tlLXdpZHRoOjBweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmN1cnJlbnQtbm9kZVtub2RlLXR5cGU9SnVkZ2VtZW50X3dlbnNodV0gLmNpcmNsZXtmaWxsOiNkN2EwNDg7c3Ryb2tlLXdpZHRoOjBweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmN1cnJlbnQtbm9kZVtub2RlLXR5cGU9Q291cnRfYW5ub3VuY2VtZW50X2RvY10gLmNpcmNsZXtmaWxsOiM2ZTgwZGU7c3Ryb2tlLXdpZHRoOjBweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmN1cnJlbnQtbm9kZVtub2RlLXR5cGU9Q29tcGFueV9iZWxvbmddIC5jaXJjbGV7ZmlsbDojNWViYzAwO3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5ob3Zlci1ub2RlIC5jaXJjbGUsLmNoYXJ0LWNvbnRhaW5lciAubm9kZS5ob3Zlci1ub2RlW25vZGUtdHlwZT1QZXJzb25dIC5jaXJjbGV7ZmlsbDpyZ2JhKDI0MSwxMzIsMzYsLjYpO3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5ob3Zlci1ub2RlW25vZGUtdHlwZT1Db21wYW55XSAuY2lyY2xle2ZpbGw6cmdiYSgwLDE0MCwyNTUsLjYpO3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5ob3Zlci1ub2RlW25vZGUtdHlwZT1CaWRfZGV0YWlsXSAuY2lyY2xle2ZpbGw6cmdiYSgxMzksMTE0LDIyOSwuNik7c3Ryb2tlLXdpZHRoOjBweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmhvdmVyLW5vZGVbbm9kZS10eXBlPUNvdXJ0X2J1bGxldGluX2RvY10gLmNpcmNsZXtmaWxsOmhzbGEoMjEwLDglLDUwJSwuNik7c3Ryb2tlLXdpZHRoOjBweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmhvdmVyLW5vZGVbbm9kZS10eXBlPUp1ZGdlX3Byb2Nlc3NdIC5jaXJjbGV7ZmlsbDpoc2xhKDM0LDM4JSw1NiUsLjYpO3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5ob3Zlci1ub2RlW25vZGUtdHlwZT1KdWRnZW1lbnRfd2Vuc2h1XSAuY2lyY2xle2ZpbGw6cmdiYSgyMTUsMTYwLDcyLC42KTtzdHJva2Utd2lkdGg6MHB4fS5jaGFydC1jb250YWluZXIgLm5vZGUuaG92ZXItbm9kZVtub2RlLXR5cGU9Q291cnRfYW5ub3VuY2VtZW50X2RvY10gLmNpcmNsZXtmaWxsOnJnYmEoMTEwLDEyOCwyMjIsLjYpO3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5ob3Zlci1ub2RlW25vZGUtdHlwZT1Db21wYW55X2JlbG9uZ10gLmNpcmNsZXtmaWxsOnJnYmEoOTQsMTg4LDAsLjYpO3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZVtub2RlLXR5cGU9c2hhcmVob2xkZXJfbWVyZ2VOb2RlXSAuY2lyY2xle2ZpbGw6IzdhNjdjYjtzdHJva2Utd2lkdGg6MHB4fS5jaGFydC1jb250YWluZXIgLm5vZGVbbm9kZS10eXBlPW1vbmV5X2Zsb3dfbWVyZ2VOb2RlXSAuY2lyY2xle2ZpbGw6I2Y5NzQxMTtzdHJva2Utd2lkdGg6MHB4fS5jaGFydC1jb250YWluZXIgLm5vZGVbbm9kZS10eXBlPW9mZmljZXJfbWVyZ2VOb2RlXSAuY2lyY2xle2ZpbGw6IzdmOWVmZjtzdHJva2Utd2lkdGg6MHB4fS5jaGFydC1jb250YWluZXIgLm5vZGVbbm9kZS10eXBlPWludmVzdF9tZXJnZU5vZGVdIC5jaXJjbGV7ZmlsbDojYzNjZDQ1O3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZVtub2RlLXR5cGU9Y29uY2VydF9tZXJnZU5vZGVdIC5jaXJjbGV7ZmlsbDojNDFjN2NhO3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZVtub2RlLXR5cGU9c3VlX21lcmdlTm9kZV0gLmNpcmNsZXtmaWxsOiNjOTE2NWQ7c3Ryb2tlLXdpZHRoOjBweH0uY2hhcnQtY29udGFpbmVyIC5ub2RlW25vZGUtdHlwZT1iaWRfbWVyZ2VOb2RlXSAuY2lyY2xle2ZpbGw6IzNkNzlkODtzdHJva2Utd2lkdGg6MHB4fS5jaGFydC1jb250YWluZXIgLm5vZGVbbm9kZS10eXBlPWd1YXJhbnRlZV9tZXJnZU5vZGVdIC5jaXJjbGV7ZmlsbDojZjgwOTBjO3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZVtub2RlLXR5cGU9b3V0X2NvbnRyb2xfc2hhcmVob2xkZXJfbWVyZ2VOb2RlXSAuY2lyY2xle2ZpbGw6IzEwOWU1MjtzdHJva2Utd2lkdGg6MHB4fS5jaGFydC1jb250YWluZXIgLm5vZGVbbm9kZS10eXBlPW91dF9hY3R1YWxfY29udHJvbGxlcl9tZXJnZU5vZGVdIC5jaXJjbGV7ZmlsbDojOTBkMDU1O3N0cm9rZS13aWR0aDowcHh9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5jdXJyZW50LW5vZGVbbm9kZS10eXBlPXNoYXJlaG9sZGVyX21lcmdlTm9kZV0gLmNpcmNsZSwuY2hhcnQtY29udGFpbmVyIC5ub2RlLmhvdmVyLW5vZGVbbm9kZS10eXBlPXNoYXJlaG9sZGVyX21lcmdlTm9kZV0gLmNpcmNsZXtzdHJva2Utd2lkdGg6M3B4O3N0cm9rZTpyZ2JhKDEyMiwxMDMsMjAzLC40KX0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmN1cnJlbnQtbm9kZVtub2RlLXR5cGU9bW9uZXlfZmxvd19tZXJnZU5vZGVdIC5jaXJjbGUsLmNoYXJ0LWNvbnRhaW5lciAubm9kZS5ob3Zlci1ub2RlW25vZGUtdHlwZT1tb25leV9mbG93X21lcmdlTm9kZV0gLmNpcmNsZXtzdHJva2Utd2lkdGg6M3B4O3N0cm9rZTpyZ2JhKDI0OSwxMTYsMTcsLjQpfS5jaGFydC1jb250YWluZXIgLm5vZGUuY3VycmVudC1ub2RlW25vZGUtdHlwZT1vZmZpY2VyX21lcmdlTm9kZV0gLmNpcmNsZSwuY2hhcnQtY29udGFpbmVyIC5ub2RlLmhvdmVyLW5vZGVbbm9kZS10eXBlPW9mZmljZXJfbWVyZ2VOb2RlXSAuY2lyY2xle3N0cm9rZS13aWR0aDozcHg7c3Ryb2tlOnJnYmEoMTI3LDE1OCwyNTUsLjQpfS5jaGFydC1jb250YWluZXIgLm5vZGUuY3VycmVudC1ub2RlW25vZGUtdHlwZT1pbnZlc3RfbWVyZ2VOb2RlXSAuY2lyY2xlLC5jaGFydC1jb250YWluZXIgLm5vZGUuaG92ZXItbm9kZVtub2RlLXR5cGU9aW52ZXN0X21lcmdlTm9kZV0gLmNpcmNsZXtzdHJva2Utd2lkdGg6M3B4O3N0cm9rZTpyZ2JhKDE5NSwyMDUsNjksLjQpfS5jaGFydC1jb250YWluZXIgLm5vZGUuY3VycmVudC1ub2RlW25vZGUtdHlwZT1jb25jZXJ0X21lcmdlTm9kZV0gLmNpcmNsZSwuY2hhcnQtY29udGFpbmVyIC5ub2RlLmhvdmVyLW5vZGVbbm9kZS10eXBlPWNvbmNlcnRfbWVyZ2VOb2RlXSAuY2lyY2xle3N0cm9rZS13aWR0aDozcHg7c3Ryb2tlOnJnYmEoNjUsMTk5LDIwMiwuNCl9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5jdXJyZW50LW5vZGVbbm9kZS10eXBlPXN1ZV9tZXJnZU5vZGVdIC5jaXJjbGUsLmNoYXJ0LWNvbnRhaW5lciAubm9kZS5ob3Zlci1ub2RlW25vZGUtdHlwZT1zdWVfbWVyZ2VOb2RlXSAuY2lyY2xle3N0cm9rZS13aWR0aDozcHg7c3Ryb2tlOnJnYmEoMjAxLDIyLDkzLC40KX0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmN1cnJlbnQtbm9kZVtub2RlLXR5cGU9YmlkX21lcmdlTm9kZV0gLmNpcmNsZSwuY2hhcnQtY29udGFpbmVyIC5ub2RlLmhvdmVyLW5vZGVbbm9kZS10eXBlPWJpZF9tZXJnZU5vZGVdIC5jaXJjbGV7c3Ryb2tlLXdpZHRoOjNweDtzdHJva2U6cmdiYSg2MSwxMjEsMjE2LC40KX0uY2hhcnQtY29udGFpbmVyIC5ub2RlLmN1cnJlbnQtbm9kZVtub2RlLXR5cGU9Z3VhcmFudGVlX21lcmdlTm9kZV0gLmNpcmNsZSwuY2hhcnQtY29udGFpbmVyIC5ub2RlLmhvdmVyLW5vZGVbbm9kZS10eXBlPWd1YXJhbnRlZV9tZXJnZU5vZGVdIC5jaXJjbGV7c3Ryb2tlLXdpZHRoOjNweDtzdHJva2U6cmdiYSgyNDgsOSwxMiwuNCl9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5jdXJyZW50LW5vZGVbbm9kZS10eXBlPW91dF9jb250cm9sX3NoYXJlaG9sZGVyX21lcmdlTm9kZV0gLmNpcmNsZSwuY2hhcnQtY29udGFpbmVyIC5ub2RlLmhvdmVyLW5vZGVbbm9kZS10eXBlPW91dF9jb250cm9sX3NoYXJlaG9sZGVyX21lcmdlTm9kZV0gLmNpcmNsZXtzdHJva2Utd2lkdGg6M3B4O3N0cm9rZTpyZ2JhKDE2LDE1OCw4MiwuNCl9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS5jdXJyZW50LW5vZGVbbm9kZS10eXBlPW91dF9hY3R1YWxfY29udHJvbGxlcl9tZXJnZU5vZGVdIC5jaXJjbGUsLmNoYXJ0LWNvbnRhaW5lciAubm9kZS5ob3Zlci1ub2RlW25vZGUtdHlwZT1vdXRfYWN0dWFsX2NvbnRyb2xsZXJfbWVyZ2VOb2RlXSAuY2lyY2xle3N0cm9rZS13aWR0aDozcHg7c3Ryb2tlOnJnYmEoMTQ0LDIwOCw4NSwuNCl9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS1uYW1le3N0cm9rZTpub25lO2ZpbGw6IzQ0NDk0Zn0uY2hhcnQtY29udGFpbmVyIC5ub2RlLW5hbWUubm9kZS1uYW1lLWJsdXJ7ZmlsbDojYTNhOWIwfS5jaGFydC1jb250YWluZXIgLm5vZGUtbmFtZS5ub2RlLW5hbWUtaGlnaGxpZ2h0e2ZpbGw6IzQ3NTQ2MTtmb250LXdlaWdodDo3MDB9LmNoYXJ0LWNvbnRhaW5lciAubm9kZS1uYW1lIC5yaXNrLXN0YXR1c3tmaWxsOiNkMDAwMDF9LmNoYXJ0LWNvbnRhaW5lciAubGluay1uYW1le2ZpbGw6I2EzYTliMDt0ZXh0LWFuY2hvcjptaWRkbGV9LmNoYXJ0LWNvbnRhaW5lciAubGluay1uYW1lLm9mZmljZXJ7ZmlsbDojZmZjZWEyfS5jaGFydC1jb250YWluZXIgLmxpbmstbmFtZS5pbnZlc3R7ZmlsbDojYTlkOWZmfS5jaGFydC1jb250YWluZXIgLmxpbmstbmFtZS5hY3R1YWxfY29udHJvbGxlciwuY2hhcnQtY29udGFpbmVyIC5saW5rLW5hbWUuY29uY2VydCwuY2hhcnQtY29udGFpbmVyIC5saW5rLW5hbWUuY29udHJvbF9zaGFyZWhvbGRlciwuY2hhcnQtY29udGFpbmVyIC5saW5rLW5hbWUuY29udHJvbF9zaGFyZWhvbGRlcnMsLmNoYXJ0LWNvbnRhaW5lciAubGluay1uYW1lLmd1YXJhbnRlZXtmaWxsOiNmYzQyMzl9LmNoYXJ0LWNvbnRhaW5lciAubGluay1uYW1lLmxpbmstbmFtZS1oaWdobGlnaHR7ZmlsbDojNDc1NDYxfS5jaGFydC1jb250YWluZXIgLmFycm93LW1hcmtlcntmaWxsOiNjMWM4Y2Z9LmNoYXJ0LWNvbnRhaW5lciAuYXJyb3ctbWFya2VyLmludmVzdCwuY2hhcnQtY29udGFpbmVyIC5hcnJvdy1tYXJrZXIuc2hhcmVob2xkZXJ7ZmlsbDojYTlkOWZmfS5jaGFydC1jb250YWluZXIgLmFycm93LW1hcmtlci5vZmZpY2Vye2ZpbGw6I2ZmY2VhMn0uY2hhcnQtY29udGFpbmVyIC5hcnJvdy1tYXJrZXIuYWN0dWFsX2NvbnRyb2xsZXIsLmNoYXJ0LWNvbnRhaW5lciAuYXJyb3ctbWFya2VyLmNvbmNlcnQsLmNoYXJ0LWNvbnRhaW5lciAuYXJyb3ctbWFya2VyLmNvbnRyb2xfc2hhcmVob2xkZXIsLmNoYXJ0LWNvbnRhaW5lciAuYXJyb3ctbWFya2VyLmNvbnRyb2xfc2hhcmVob2xkZXJzLC5jaGFydC1jb250YWluZXIgLmFycm93LW1hcmtlci5ndWFyYW50ZWV7ZmlsbDojZmM0MjM5fS5jaGFydC1jb250YWluZXIgLmxpbmtze2N1cnNvcjpkZWZhdWx0fS5jaGFydC1jb250YWluZXIgLmxpbmtzIC5ndWFyYW50ZWU6aG92ZXIsLmNoYXJ0LWNvbnRhaW5lciAubGlua3MgLm1vbmV5X2Zsb3c6aG92ZXIsLmNoYXJ0LWNvbnRhaW5lciAubGlua3MgLnBlcnNvbmFsX21vbmV5X2Zsb3c6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9LmNoYXJ0LWNvbnRhaW5lciAubGlua3tzdHJva2U6I2MxYzhjZjtmaWxsOm5vbmV9LmNoYXJ0LWNvbnRhaW5lciAubGluay5vZmZpY2Vye3N0cm9rZTojZmZjZWEyfS5jaGFydC1jb250YWluZXIgLmxpbmsuaW52ZXN0e3N0cm9rZTojYTlkOWZmfS5jaGFydC1jb250YWluZXIgLmxpbmsuYWN0dWFsX2NvbnRyb2xsZXIsLmNoYXJ0LWNvbnRhaW5lciAubGluay5jb25jZXJ0LC5jaGFydC1jb250YWluZXIgLmxpbmsuY29udHJvbF9zaGFyZWhvbGRlciwuY2hhcnQtY29udGFpbmVyIC5saW5rLmNvbnRyb2xfc2hhcmVob2xkZXJzLC5jaGFydC1jb250YWluZXIgLmxpbmsuZ3VhcmFudGVle3N0cm9rZTojZmM0MjM5fS5jaGFydC1jb250YWluZXIgLmxpbmsubGluay1oaWdobGlnaHR7c3Ryb2tlLXdpZHRoOjJweH0uY2hhcnQtY29udGFpbmVyIC5saW5rLmxpbmstZGFzaGVke3N0cm9rZS1kYXNoYXJyYXk6NSw1fTwvc3R5bGU+CiAgICAgIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMTAwIiBzdHlsZT0iZmlsbDpyZ2IoMCwwLDI1NSk7c3Ryb2tlLXdpZHRoOjE7IHN0cm9rZTpyZ2IoMCwwLDApIi8+CiAgICAgIDwvc3ZnPg==";
//var dataUrl_svgImg = '<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" version="1.1"><rect width="300" height="100" style="fill:rgb(0,0,255);stroke-width:1; stroke:rgb(0,0,0)"/></svg>'
svg2img(dataUrl_svgImg, function(error, buffer) {
      var svgImgName = 'svg.png';
      fs.writeFileSync(svgImgName, buffer);
      var img = new Image;
      img.src = fs.readFileSync(svgImgName);
      var locationInf = {"x":197,"y":0,"x2":496,"y2":203.32,"w":299,"h":203.32};
      ctx.drawImage(img, locationInf.x, locationInf.y, locationInf.w, locationInf.h, 0, 0, locationInf.w, locationInf.h);
      var dataUrl_canvas = canvas.toDataURL();
      var base64Data = dataUrl_canvas.replace(/^data:image\/png;base64,/, "");
      fs.writeFile("out.png", base64Data, 'base64', function(err) {
        console.log(err);
      });
});







